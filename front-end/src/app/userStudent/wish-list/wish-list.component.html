<div class="container-fluid">
  <div class="row-2  ">
    <p class="text-center">Liste de voeux</p>
  </div>
<hr>
  <br>

  <p *ngIf="currentUser.accepted === 'true'" class="text-center" style="font-weight: bold; font-size: large"  >

    Etat du dossier: En cours de traitement</p>
  <p *ngIf="currentUser.accepted === 'rejected'" class="text-center" style="font-weight: bold; font-size: large"  >

    Etat du dossier: Refusé </p>
  <p *ngIf="currentUser.accepted === 'false'" class="text-center" style="font-weight: bold; font-size: large"  >

    Etat du dossier: Pas encore envoyé</p>

<!--table contenant les voeux de l'étudiant  -->
<div class="container">
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
      <tr>
        <th scope="col">Actions</th>
        <th scope="col">Université</th>
        <th scope="col">Pays</th>
        <th scope="col">Ville</th>
        <th scope="col">Diplome visé</th>
        <th scope="col">Semestre</th>
      </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let wish of wishList">
          <tr *ngIf="currentUser.id == wish.studentID">
            <td scope="row"><div class="btn-group"><button class="btn-info" (click)="editWish(wish.id)" routerLink="/agreement-host/{{wish.university.id}}" >EDITER</button>
              <button class="btn-danger" (click)="deleteWish(wish.id)" >SUPRIMER</button></div></td>
            <td>{{ wish.university.name }}</td>
            <td>{{ wish.university.country }}</td>
            <td>{{ wish.university.city }}</td>
            <td>{{ wish.diploma }}</td>
            <td>{{ wish.semester }}</td>
          </tr>
        </ng-container>
      </tbody>
    </table>
    <p class="etat"> Notifications : {{currentUser.notif }}</p>
  </div>
  <div class="row text-center ">
    <div class="col-lg-6 col-sm-12 col-md-6 ">
      <a class="btn btn-primary" routerLink="/menu-student/countries-list">Ajouter une université</a>
    </div>
    <div class="col-sm-14 col-md-6">

      <!-- Button trigger modal -->
      <button  type="button" class="btn btn-dark" data-toggle="modal" data-target="#exampleModal" (click)="setAcceptedToDefault()">
        VALIDER ET ENVOYER
      </button>
    </div>
  </div>
</div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Envoi validé</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Vous avez envoyé votre dossier au bureau des relations internationales, vous allez être redirigé vers le menu principal.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" routerLink="/menu-student" data-dismiss="modal">Fermer</button>
      </div>
    </div>
  </div>
</div>
